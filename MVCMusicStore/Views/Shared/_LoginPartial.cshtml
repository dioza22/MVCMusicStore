@using Microsoft.AspNet.Identity
@if (Request.IsAuthenticated)
{
    <a href="@Url.Action()" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
        <i class="glyphicon glyphicon-user"></i> @User.Identity.Name<b class="caret"></b>
    </a>

    <ul class="dropdown-menu" role="menu">
        <li>
            <a href="@Url.Action("Index", "Manage", routeValues: null)" title="Manage">
                <i class="glyphicon glyphicon-cog"></i> Manage
            </a>
        </li>
        <li class="divider"></li>
        <li>
            <a href="@Url.Action("Index", "StoreManager", routeValues: null)" title="Manage Store">
                <i class="glyphicon glyphicon-tasks"></i> Manage Store
            </a>
        </li>
        <li class="divider"></li>
        <li>
            <a href="javascript:document.getElementById('logoutForm').submit()">
                <i class="glyphicon glyphicon-log-out"></i> Log off
            </a>
        </li>
    </ul>
    using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "navbar-right" }))
    {
        @Html.AntiForgeryToken()
    }
}
else
{
    <a href="@Url.Action()" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="true">
        <i class="glyphicon glyphicon-user"></i> Sign in<b class="caret"></b>
    </a>
    <ul class="dropdown-menu" role="menu">
        <li>
            <a href="@Url.Action("Login","Account",routeValues:null)" id="loginLink">
                <i class="glyphicon glyphicon-log-in"></i> Log in
            </a>
        </li>
        <li>
            <a href="@Url.Action("Register","Account",routeValues:null)" id="registerLink">
                <i class="glyphicon glyphicon-floppy-save"></i> Register
            </a>
        </li>

    </ul>
}
